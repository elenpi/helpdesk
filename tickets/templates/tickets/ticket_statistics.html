{% extends "base.html" %}

{% load static%}


{% block title %}Ticket Statistics{% endblock %}

{% block css_files %}
<link rel="stylesheet" href="{% static "tickets/ticket_statistics.css" %}"/>
{% endblock %}

{% block content %}


<h2 class="ticket-stat-header">Ticket stats</h2>

<div class="ticket-stat-box">
    <p>Average Resolution Time: {{resolution_time}}</p>
    <p>Minimun Resolution Time: {{min_resolution_time}}</p>
    <p>Maximum Resolution Time: {{max_resolution_time}}</p>
    <p>Average Response Time: {{response_time}}</p>
    <p>Minimun Response Time: {{min_response_time}}</p>
    <p>Maximum Response Time: {{max_response_time}}</p>
</div>

<div class="chart-container">
    <div id="status-chart" class="chart"></div>
    <div id="assignee-chart" class="chart"></div>
    <div id="resolution-chart" class="chart"></div>
</div>


  <script type="text/javascript">
      var statusSpec = {{ status_json | safe }};
      var assigneeSpec = {{ assignee_json | safe }};
      var resolutionSpec = {{ resolution_json | safe }};
      vegaEmbed('#status-chart', statusSpec);
      vegaEmbed('#assignee-chart', assigneeSpec);
      vegaEmbed('#resolution-chart', resolutionSpec);
  </script>

{% endblock %}

{% block javascript %}



<script>
    // JavaScript code for rendering the charts goes here
</script>{% endblock %}